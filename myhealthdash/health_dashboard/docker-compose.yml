version: '3.8'
services:
  app:
    build: .
    container_name: health_dashboard
    ports:
      - "8060:8060"
    volumes:
      - /home/user/docker_projects/myhealthdash/teacher_data:/myhealth/teacher_data
      - /home/user/docker_projects/myhealthdash/health_dashboard/models:/myhealth/models
      - /home/user/docker_projects/myhealthdash/health_dashboard/data:/myhealth/data
      - /home/user/docker_projects/myhealthdash/health_dashboard/dashboard:/myhealth/dashboard
    user: "1000:1000"
    env_file:
      - .env
    environment:
      - HF_HOME=/tmp/hfcache
      - PYTHONDONTWRITEBYTECODE=1
      - PYTHONUNBUFFERED=1
      - STOPWORD_PATH=/teacher_data/stopwords.txt
    networks:
      - pleasanter-net

networks:
  pleasanter-net:
    external: true
    name: pleasanterDocker_default
